@import './wave.css';
@import './dock.css';
@import './scroll-bar.css';
@import './bg-gradient.css';
@import './text-gradient.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== macOS Sonoma/Ventura Inspired Theme ===== */
@layer base {
  :root {
    /* ===== Surfaces & Text ===== */
    --background: 225 35% 98%;
    --foreground: 226 55% 12%;

    --card: 0 0% 100%;
    --card-foreground: 226 55% 12%;

    /* ===== Primary / Accent ===== */
    --primary: 228 60% 62%; /* indigo-cyan hybrid */
    --primary-foreground: 0 0% 100%;
    --accent: 250 65% 68%; /* violet shimmer */
    --accent-foreground: 0 0% 100%;

    /* ===== Secondary / Muted ===== */
    --secondary: 223 40% 96%;
    --secondary-foreground: 225 40% 25%;
    --muted: 225 22% 92%;
    --muted-foreground: 226 20% 35%;
    --border: 225 20% 80%;
    --ring: 228 60% 62%;

    /* ===== Gradient Tokens ===== */
    --bg-indigo: 228 50% 32%;
    --bg-blue: 224 60% 26%;
    --bg-cyan: 200 75% 48%;
    --bg-teal: 190 55% 32%;
    --bg-navy: 224 70% 10%;

    /* ===== Radius ===== */
    --radius: 0.75rem;
  }

  .dark {
    --background: 225 22% 10%;
    --foreground: 0 0% 98%;

    --card: 225 25% 12%;
    --card-foreground: 0 0% 98%;

    --primary: 228 50% 52%;
    --primary-foreground: 222 20% 10%;
    --accent: 250 70% 70%;
    --accent-foreground: 222 20% 8%;

    --secondary: 225 22% 18%;
    --secondary-foreground: 0 0% 95%;
    --muted: 225 16% 22%;
    --muted-foreground: 220 12% 70%;
    --border: 225 16% 26%;
    --ring: 227 85% 64%;

    --bg-indigo: 228 45% 28%;
    --bg-blue: 224 55% 22%;
    --bg-cyan: 200 80% 46%;
    --bg-teal: 190 50% 25%;
    --bg-navy: 224 68% 8%;
  }

  * {
    @apply border-border selection:bg-primary/20 dark:selection:bg-primary/30;
    /* Improve touch handling on mobile */
    -webkit-tap-highlight-color: transparent;
  }

  body {
    @apply bg-background font-sf-medium text-foreground antialiased;
    /* Prevent scroll issues on mobile */
    touch-action: pan-y;
    position: relative;
  }

  html,
  body {
    overflow-y: auto;
    -ms-overflow-style: none;
    scrollbar-width: none;
    /* Mobile scroll fixes */
    -webkit-overflow-scrolling: touch;
    overscroll-behavior-y: none;
  }

  html::-webkit-scrollbar,
  body::-webkit-scrollbar {
    display: none;
    width: 0;
    height: 0;
  }

  .font-sf-medium {
    font-family:
      var(--font-sf-medium),
      -apple-system,
      BlinkMacSystemFont,
      'SF Pro Display',
      'SF Pro Text',
      'Segoe UI',
      Roboto,
      sans-serif;
    font-weight: 500;
    font-style: normal;
    font-stretch: 105%; /* corrects horizontal squish */
    letter-spacing: 0.015em; /* subtle tracking for web */
    font-feature-settings: 'liga', 'kern', 'ss01';
    text-rendering: optimizeLegibility;
  }
}

::view-transition-old(root),
::view-transition-new(root) {
  animation: none;
  mix-blend-mode: normal;
}

@layer utilities {
  /* === Flex === */
  .flex-center {
    @apply flex items-center justify-center;
  }

  .flex-between {
    @apply flex items-center justify-between;
  }

  .flex-between-start {
    @apply flex items-start justify-between;
  }

  .wave-layer {
    will-change: transform;
    mix-blend-mode: screen;
  }

  @keyframes scribble-spin {
    0% {
      transform: rotate(0deg);
    }
    50% {
      transform: rotate(6deg);
    }
    100% {
      transform: rotate(0deg);
    }
  }

  @keyframes float {
    0% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-12px);
    }
    100% {
      transform: translateY(0px);
    }
  }

  .animate-scribble-spin {
    animation: scribble-spin 6s ease-in-out infinite;
  }

  .animate-float {
    animation: float 5s ease-in-out infinite;
  }
}
